<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<canvas id="canvas" width="500" height="500" style="background:#000"></canvas>
<script>
window.onload=function(){
	var convas=document.getElementById("canvas"),
	 context=convas.getContext("2d"),
	 centerX=convas.width/2,
	 centerY=convas.height/2,
	 rad=Math.PI*2/100,
	 speed=0.1;
	function blueCircle(n){
		context.save();
		context.strokeStyle="#49f";
		context.lineWidth=5;
		context.beginPath();
		context.arc(centerX,centerY,100,-Math.PI/2,-Math.PI/2+n*rad,false);
		context.stroke();
		context.closePath();
		context.restore();
		}
	function whiteCircle(){
		context.save();
		context.beginPath();
		context.strokeStyle="white";
		context.arc(centerX,centerY,100,0,Math.PI*2,false);
		context.stroke();
		context.closePath();
		context.restore();
		}
	function text(n){
		context.save();
		context.strokeStyle="#49f";
		context.font="40px arial";
		context.strokeText(n.toFixed(0)+"%",centerX-25,centerY+10);
		context.stroke();
		context.restore();
		}
	(function drawframe(){
		window.requestAnimationFrame(drawframe,convas);
		context.clearRect(0,0,canvas.width,canvas.height);
		
		whiteCircle();
		text(speed);
		blueCircle(speed);
		if(speed>100) speed=0;
		speed+=0.1;
		}())
	}
</script>
</body>
</html>

